#include<iostream>
#include<cstudio>
#include<cstring>
#include<stdlib>
#include<conio.h>
#include<iomanip>

using namespace std();
int main()
{
 File *fp, *ft;
 char another, choice;
 
 struct student
 {
  char first_name[50], last_name[50];
  char course[100];
  int section;
 }
 
 struct student e;
 char xfirst_name[50], xlast_name[50];
 long int recsize;
 
 fp=fopen("users.txt","rb+");
 
 if(fp==NULL)
 {
  fp=fopen("users.txt","wb+");
  
  if(fp==NULL)
  {
   puts("Cannot open file");
   return 0;
  }
 }
 
 resize=sizeof(e);
 
 while(1)
 {
  system("cls");
  
  cout<<"\t\t***** STUDENT DATABASE MANAGEMENT SYSTEM *****\n\n";
  cout<<"\n1. Add Records";
  cout<<"\n2. List Records";
  cout<<"\n3. Modify Records";
  cout<<"\n4. Delete Records";
  cout<<"\n5. Exit Program\n";
  cout<<"Select Your Choice: ";
  fflush(stdin);
  choice=getche();
  switch(choice)
  {
  case'1' : fseek(fp,0,SEEK_END);
   another='Y';
   while(another=='Y' || another=='y')
    {
     system("cls");
     cout<<"Enter the First Name: ";
     cin>>e.first_name;
     cout<<"Enter the Last Name: ";
     cin>>e.last_name;
     cout<<"Enter the Course: ";
     cin>>e.course;
     cout<<"Enter the Section: ";
     cin>>e.section;
     fwrite((&e,recsize,1,fp);
     cout<<"\nAdd Another Record (Y/N): ";
     fflush(stdin);
     another=getchar();
   }
  break; 
   
  case '2': system("cls");
   rewind(fp);
   cout<<"*** View the Records in the Database ***\n";
   while(fread(&e,recsize,1,fp)==1)
    {
     cout<<"\n\n"<<e.first_name<<setw(10)<<e.last_name;
     cout<<"\n"<<e.course<<setw(8)<<e.section;
    }
    cout<<"\n\n";
    system("pause");
    break;
  
 case '3':  system("cls");
   
 
  
  
